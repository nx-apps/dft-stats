
<link rel="import" href="./../../components/format-number-behavior.html">

<link rel="import" href="./../../components/data-manage-behavior.html">

<dom-module id="hamonize-list">
    <style include="page-style flex-style"></style>
    <template>
        <paper-material elevation="1" class="container">
            <table class="gl-table-default">
                <thead>
                    <tr>
                        <th class="label-head" rowspan="2">เลขพิกัดศุลกากร</th>
                        <th class="label-head" rowspan="2">ชนิดข้าว</th>
                        <th class="label-head" colspan="2">นำเข้า</th>
                        <!--<th class="label-head">มูลค่า (บาท)</th>-->
                        <th class="label-head" colspan="2">ส่งออก</th>
                        <!--<th class="label-head">มูลค่า (บาท)</th>-->
                    </tr>
                    <tr>
                        <!--<th class="label-head">HM CODE</th>-->
                        <!--<th class="label-head">ชนิดข้าว</th>-->
                        <th class="label-head">ปริมาณ (ตัน)</th>
                        <th class="label-head">มูลค่า (บาท)</th>
                        <th class="label-head">ปริมาณ (ตัน)</th>
                        <th class="label-head">มูลค่า (บาท)</th>
                    </tr>
                </thead>
                <tbody>
                    <template is="dom-if" if="[[checkData(dataList)]]">
                        <tr>
                            <td colspan="6" class="no-data">ไม่พบข้อมูล</td>
                        </tr>
                    </template>
                    
                    <template is="dom-repeat" items={{dataList}} >
                        <tr>
                            <td>[[item.hamonize_code]]</td>
                            <td>[[item.hamonize_th]]</td>
                            <td class="format-number">[[formatNumber(item.net_weight_in)]]</td>
                            <td class="format-number">[[formatNumber(item.fob_amt_baht_in)]]</td>
                            <td class="format-number">[[formatNumber(item.net_weight_out)]]</td>
                            <td class="format-number">[[formatNumber(item.fob_amt_baht_out)]]</td>
                        </tr>
                    </template>
                </tbody>
                <tfoot class="table-foot">
                    <tr>
                        <td colspan="2">รวม</td>
                        <!--<td></td>-->
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
            </tfoot>
            </table>
        </paper-material>
    </template>
    <script>
        Polymer({
            is: 'hamonize-list',
            behaviors:[
                DataManageBehavior,
                ReduxBehavior,
                FormatNumberBehavior
            ],
            properties:{
                dataList:{
                    statePath:'hamonize.list',
                    observer:'totalcal'
                },
                total:{
                    type: Object,
                    value:{}
                }
            },
            totalcal(dataList){
                console.log(Object.keys(dataList).reduce((previous, current) => previous + dataList[current].net_weight_in , 0));

                // Object.keys(dataR2r).reduce((previous, current) => previous + dataR2r[current].ton , 0)
            }
        });
    </script>
</dom-module>